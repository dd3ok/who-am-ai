# Implement — Google GenAI API Key 설정

## 변경 요약
- `spring.ai.google.genai` 섹션에서 Vertex 전용 `project-id`/`location` 필드를 제거하고 API Key 모드만 사용하도록 정리했다.
- `spring.ai.google.genai.embedding.api-key`를 명시해 임베딩 자동 구성도 동일한 키를 사용하도록 했다.

## Why / Scope
- Why: 사용자 요구사항에 따라 Vertex 모드를 사용하지 않으며, project-id 누락 예외를 근본적으로 제거해야 했다.
- Scope: `application.yml` 설정 수정 및 관련 문서 업데이트에 한정.
- 참조: Spring AI Google GenAI Developer API 가이드 (see: /spring-projects/spring-ai).

## Plan 대비 변경 사항 (Drift)
- 없음. Plan 문서(`/docs/plan+design/251107-170647-genai-apikey-설정.md`)와 동일하게 API Key 모드만 남겼다.

## 코드 주요 포인트
- `spring.ai.google.genai.api-key`만으로 Chat/Embedding 모델을 구성.
- 임베딩 섹션에 별도 `api-key`를 중복으로 지정해 명시성을 높였다(환경 변수 `GEMINI_API_KEY`).

## 배치/운영 플로우
- 애플리케이션 부팅 시 `GEMINI_API_KEY` 환경 변수만 필요하며, Vertex 관련 변수는 제거 가능.

## 테스트 시나리오 & 예상 결과 (실행하지 않음)
- 시나리오 1: `GEMINI_API_KEY` 설정 후 애플리케이션 기동 → Spring AI AutoConfig가 API Key 모드로 초기화되어 VectorStore 빈까지 생성.
- 시나리오 2: `GEMINI_API_KEY` 누락 → `IllegalArgumentException: API key must be set` 등의 초기화 오류로 빠르게 실패.
- 엣지 케이스: 이전에 남아있던 Vertex 환경 변수가 존재해도 무시되며, API Key 모드가 우선 적용됨.

## 작업 체크리스트
- [✅] application.yml에서 Vertex 속성 제거
- [✅] API Key 기반 설정 명시
- [✅] 문서(Plan/Implement) 작성
